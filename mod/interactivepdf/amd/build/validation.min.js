define("mod_interactivepdf/validation",["jquery","core/notification","core/ajax"],(function($,notification,ajax){function submit_form(userid,quiz_id,interactivepdfid,attemptid,answer,quiz_type){let quiz_3nid=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,ansid=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if("shortques"==quiz_type){let request={methodname:"save_question_answer",args:{user_id:userid,quiz_id:quiz_id,interactivepdfid:interactivepdfid,attemptid:attemptid,answer:answer,quiz_type:quiz_type}};try{ajax.call([request])[0].done((function(data){data.success}))}catch(e){}}else if("3nques"==quiz_type){let request={methodname:"save_3n_question_answer",args:{user_id:userid,quiz_id:quiz_id,interactivepdfid:interactivepdfid,attemptid:attemptid,answer:answer,quiz_type:quiz_type,ansid:ansid,quiz_3nid:quiz_3nid}};try{ajax.call([request])[0].done((function(data){data.success}))}catch(e){}}else if("2nm"==quiz_type){let request={methodname:"save_2nm_question_answer",args:{user_id:userid,quiz_id:quiz_id,interactivepdfid:interactivepdfid,attemptid:attemptid,answer:answer,quiz_type:quiz_type,ansid:ansid,quiz_3nid:quiz_3nid}};try{ajax.call([request])[0].done((function(data){data.success}))}catch(e){}}else if("2ns"==quiz_type){let request={methodname:"save_2ns_question_answer",args:{user_id:userid,quiz_id:quiz_id,interactivepdfid:interactivepdfid,attemptid:attemptid,answer:answer,quiz_type:quiz_type,ansid:ansid,quiz_3nid:quiz_3nid}};try{ajax.call([request])[0].done((function(data){data.success}))}catch(e){}}}function finish_attempt(userid,interactivepdfid,attemptid){let request={methodname:"finish_attempt",args:{user_id:userid,interactivepdfid:interactivepdfid,attemptid:attemptid}};try{ajax.call([request])[0].done((function(data){1==data.success&&(!function(userid,interactivepdfid,attemptid){let request={methodname:"send_notification",args:{user_id:userid,interactivepdfid:interactivepdfid,attemptid:attemptid}};try{ajax.call([request])[0].done((function(data){data.success}))}catch(e){}}(userid,interactivepdfid,attemptid),location.reload())}))}catch(e){}}return{init:function(userid,interactivepdfid,attemptid){attemptid=parseInt(attemptid),$(document).ready((function(){$("#attempt-submit-btn").on("click",(function(event){event.preventDefault();var formId=$(this).closest("form").attr("id");const form=event.target.closest("#"+formId),formData=new FormData(form);for(const entry of formData){var quiz_id=$("#"+entry[0]).attr("data-id"),quiz_type=$("#"+entry[0]).attr("data-type"),quiz_3nid=null,ansid=null;"3nques"!=quiz_type&&"2nm"!=quiz_type&&"2ns"!=quiz_type||(quiz_3nid=$("#"+entry[0]).attr("data-qid"),ansid=$("#"+entry[0]).attr("data-ansid"));var answer;answer=entry[1],submit_form(userid,quiz_id,interactivepdfid,attemptid,answer,quiz_type,quiz_3nid,ansid)}return finish_attempt(userid,interactivepdfid,attemptid),!1})),$(".question-submit-btn").on("click",(function(event){event.preventDefault();var formId=$(this).closest("div").attr("id"),quiz_id=$("#"+formId).attr("data-id"),quiz_type=$("#"+formId).attr("data-type"),answer=$('textarea[name="'+quiz_type+"-"+quiz_id+'"]').val();return submit_form(userid,quiz_id,interactivepdfid,attemptid,answer,quiz_type),!1}))}))}}}));

//# sourceMappingURL=validation.min.js.map